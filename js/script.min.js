document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("interactive-clock"),t=document.getElementById("highlight-arc"),n=document.getElementById("start-marker"),o=document.getElementById("end-marker"),a=document.getElementById("selected-time-range"),d=document.getElementById("duration"),c=document.getElementById("hidden-time-range");if(e){const l=150,r=150,s=140;let i=null,u=0,m=0;function g(e){const t=(e.clientX||e.touches[0].clientX)-clock.getBoundingClientRect().left,n=(e.clientY||e.touches[0].clientY)-clock.getBoundingClientRect().top;return(180*Math.atan2(n-r,t-l)/Math.PI+90+360)%360}function p(e){return 7.5*Math.round(e/7.5)}function f(e){const t=Math.round(e/360*12*60);let n=12+Math.floor(t/60),o=t%60;return o<10&&(o="0"+o),12===n?`12:${o} PM`:24===n?`12:${o} AM`:n>12&&n<24?`${n-12}:${o} PM`:`${n}:${o} AM`}function h(){let e=u,i=m;e===i?i+=360:i<e&&(i+=360);const v=(e-90)*Math.PI/180,y=(i-90)*Math.PI/180,k=l+s*Math.cos(v),b=r+s*Math.sin(v),E=l+s*Math.cos(y),L=r+s*Math.sin(y);n.setAttribute("cx",k),n.setAttribute("cy",b),o.setAttribute("cx",E),o.setAttribute("cy",L);const w=i-e>180?1:0,x=`M ${k} ${b} A ${s} ${s} 0 ${w} 1 ${E} ${L}`;t.setAttribute("d",x),t.setAttribute("fill","rgba(0, 240, 255, 0.3)"),t.setAttribute("stroke","#00f0ff"),t.setAttribute("stroke-width","20"),t.setAttribute("stroke-opacity","0.5");const M=f(u),H=f(m);a.textContent=`${M} - ${H}`,c.value=`${M} - ${H}`;let I=(m-u+360)%360;0===I&&(I=360),d.value=(I/30).toFixed(2)}function v(){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.classList.add("minute-marks");const t=15;for(let n=0;n<12;n++){const o=30*n,a=t,d=l+(s-a)*Math.cos((o-90)*Math.PI/180),c=r+(s-a)*Math.sin((o-90)*Math.PI/180),i=l+s*Math.cos((o-90)*Math.PI/180),u=r+s*Math.sin((o-90)*Math.PI/180),m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1",d),m.setAttribute("y1",c),m.setAttribute("x2",i),m.setAttribute("y2",u),m.setAttribute("stroke","#00f0ff"),m.setAttribute("stroke-width","2"),e.appendChild(m);const g=l+(s-a-15)*Math.cos((o-90)*Math.PI/180),p=r+(s-a-15)*Math.sin((o-90)*Math.PI/180),f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("x",g),f.setAttribute("y",p),f.setAttribute("fill","#fff"),f.setAttribute("text-anchor","middle"),f.setAttribute("dominant-baseline","central");let h=n+12;h>12&&(h-=12),0===h&&(h=12),0===n&&(h=12),f.textContent=h,e.appendChild(f)}clock.appendChild(e)}function y(e){e.preventDefault(),(e.target===n||e.target===o)&&(i=e.target)}function k(e){if(!i)return;e.preventDefault();const t=g(e);i===n?u=t:m=t,h()}function b(e){e.preventDefault(),i===n?u=p(u):i===o&&(m=p(m)),h(),i=null}e.addEventListener("mousedown",y),e.addEventListener("mousemove",k),document.addEventListener("mouseup",b),e.addEventListener("touchstart",y,{passive:!1}),e.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("touchend",b),v(),h()}});const navLinksContainer=document.getElementById("offcanvas-nav-links");if(navLinksContainer){const e=[{name:"Home",file:"index.html"},{name:"About Us",file:"about-us.html"},{name:"Booking",file:"booking.html"},{name:"Contact",file:"contact.html"},{name:"Deals",file:"deals.html"},{name:"Events",file:"events.html"},{name:"Gallery",file:"gallery.html"},{name:"Games",file:"games.html"},{name:"News",file:"news.html"},{name:"PC Specs",file:"pc-specs.html"},{name:"Prices",file:"prices.html"}],t=window.location.pathname.split("/").pop()||"index.html";e.forEach(e=>{const n=document.createElement("li");n.classList.add("nav-item");const o=document.createElement("a");o.classList.add("nav-link"),o.href=e.file,o.textContent=e.name,t===e.file&&n.classList.add("active-page"),n.appendChild(o),navLinksContainer.appendChild(n)})}const currentMonthYear=document.getElementById("currentMonthYear"),calendarDays=document.querySelector(".calendar-days"),prevMonthBtn=document.getElementById("prevMonth"),nextMonthBtn=document.getElementById("nextMonth");if(currentMonthYear){const e=new bootstrap.Modal(document.getElementById("eventModal")),t=document.getElementById("eventModalLabel"),n=document.getElementById("eventModalBody");let o=new Date,a=o.getMonth(),d=o.getFullYear();const c=["January","February","March","April","May","June","July","August","September","October","November","December"],l=[{year:2025,month:7,day:10,title:"Retro Gaming Night",description:"Get ready for a blast from the past! Our next community event will be a Retro Gaming Night."},{year:2025,month:7,day:23,title:"Weekly Valorant Tournament",description:"Join us every Friday for our weekly Valorant tournament. Prizes for the top 3 teams."},{year:2025,month:8,day:5,title:"FIFA 25 Championship",description:"Compete in our first FIFA 25 tournament! Prove you're the best on the virtual pitch."},{year:2025,month:8,day:19,title:"Community Board Game Night",description:"Take a break from screens and join us for a fun evening of classic and modern board games."},{year:2025,month:9,day:13,title:"Halloween Horror Game Marathon",description:"Brave the night with us! Play the scariest horror games until dawn."},{year:2025,month:9,day:27,title:"Overwatch 2 Showdown",description:"Team up and dominate in our bi-weekly Overwatch 2 tournament."},{year:2025,month:10,day:10,title:"Smash Bros. Ultimate Tournament",description:"Show off your skills in the ultimate fighting game. All characters welcome!"},{year:2025,month:10,day:24,title:"Indie Game Spotlight",description:"Discover hidden gems! Play and discuss the best indie games with fellow enthusiasts."},{year:2025,month:11,day:8,title:"Holiday Gaming Gala",description:"Celebrate the holidays with special gaming challenges, prizes, and festive treats."},{year:2025,month:11,day:22,title:"Year-End Esports Review",description:"Join us for a discussion and highlights of the biggest esports moments of 2025."},{year:2026,month:0,day:15,title:"New Year, New Games LAN Party",description:"Kick off 2026 with a massive LAN party featuring the latest game releases."},{year:2026,month:0,day:29,title:"Apex Legends Championship",description:"Prove your squad is the best in our high-stakes Apex Legends tournament."},{year:2026,month:1,day:12,title:"Valentine's Duo Gaming",description:"Bring a friend or find a partner for fun co-op challenges and prizes."},{year:2026,month:1,day:26,title:"Rocket League Rumble",description:"Fast-paced car soccer action! Compete for glory in our Rocket League tournament."}],r=()=>{currentMonthYear.innerHTML=`${c[a]} ${d}`,calendarDays.innerHTML="";const o=new Date(d,a,1).getDay(),s=new Date(d,a+1,0).getDate();for(let e=0;e<o;e++){const t=document.createElement("div");calendarDays.appendChild(t)}for(let o=1;o<=s;o++){const s=document.createElement("div");s.textContent=o,o===new Date().getDate()&&a===new Date().getMonth()&&d===new Date().getFullYear()&&s.classList.add("current-day");const i=l.filter(e=>e.year===d&&e.month===a&&e.day===o);i.length>0&&(s.classList.add("has-event"),s.style.cursor="pointer",s.addEventListener("click",()=>{t.textContent=i[0].title,n.innerHTML=`<p>${i[0].description}</p>`,e.show()})),calendarDays.appendChild(s)}};prevMonthBtn.addEventListener("click",()=>{--a<0&&(a=11,d--),r()}),nextMonthBtn.addEventListener("click",()=>{++a>11&&(a=0,d++),r()}),r();const s=document.querySelector(".calendar-weekdays"),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];i.forEach(e=>{const t=document.createElement("div");t.textContent=e,s.appendChild(t)})}(()=>{const e=document.querySelectorAll(".needs-validation");Array.from(e).forEach(e=>{e.addEventListener("submit",t=>{e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1);const t=e.querySelectorAll("input, select, textarea");t.forEach(e=>{e.addEventListener("input",()=>{e.checkValidity()?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid")),"phone"===e.id&&(/^\d{10}$/.test(e.value)||''===e.value?(e.setCustomValidity(""),e.parentElement.querySelector(".invalid-feedback").textContent="Please enter a valid 10-digit phone number."):(e.setCustomValidity("Please enter a valid 10-digit phone number."),e.parentElement.querySelector(".invalid-feedback").textContent="Please enter a valid 10-digit phone number.")),"date"===e.id&&((new Date(e.value)<new Date().setHours(0,0,0,0))?(e.setCustomValidity("Please select a date in the future."),e.parentElement.querySelector(".invalid-feedback").textContent="Please select a date in the future."):e.setCustomValidity(""))})})})})();const statsSection=document.querySelector(".section-title").closest("section"),statElements=document.querySelectorAll(".card h3");if(statsSection){const e=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(t.isIntersecting){statElements.forEach(e=>{const t=parseInt(e.textContent.replace(/\D/g,""));let n=0;const o=7e3,a=t/(o/50),d=setInterval(()=>{(n+=a)>=t?(e.textContent=t.toLocaleString()+(e.textContent.includes("+")?"+":""),clearInterval(d)):e.textContent=Math.floor(n).toLocaleString()+(e.textContent.includes("+")?"+":"")},50)});n.unobserve(statsSection)}})},{threshold:.5});e.observe(statsSection)}